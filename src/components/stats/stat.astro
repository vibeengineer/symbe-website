---
import type { StatStoryblok } from "@storyblok/types";
import type { Prettify } from "@/types";
import { storyblokEditable, type SbBlokData } from "@storyblok/astro";
import Heading from "@/components/ui/heading.astro";
import BodyText from "@/components/ui/body-text.astro";

type Props = {
  blok: Prettify<StatStoryblok>;
};

const {
  blok: { text, caption },
} = Astro.props;

// Generate unique ID for this stat element
const statId = `stat-${Math.random().toString(36).substr(2, 9)}`;
---

<div
  class="flex flex-1 flex-col items-center py-10 text-center"
  {...storyblokEditable(Astro.props.blok as SbBlokData)}
  id={statId}
  data-stat-text={text}
>
  <Heading
    level="xxxl"
    class="text-text-000 stat-number font-bold tracking-tight"
  >
    0
  </Heading>
  <BodyText
    size="s"
    class="text-text-200 mt-4 font-semibold tracking-[0.05em] uppercase"
  >
    {caption}
  </BodyText>
</div>
