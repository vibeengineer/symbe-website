---
import { cn } from "@/utils/cn";

interface Props {
  theme?: "light" | "dark";
}

const { theme = "light" } = Astro.props as Props;
---

<button
  data-mobile-toggle
  class={cn(
    "block md:hidden fixed top-4 right-4 z-[101] p-3 cursor-pointer bg-transparent border-none",
  )}
  aria-label="Toggle navigation"
  aria-expanded="false"
  data-theme={theme}
>
  <span
    class={cn(
      "relative block w-6 h-0.5 transition-all duration-300",
      "[&::before]:content-[''] [&::before]:absolute [&::before]:left-0 [&::before]:w-6 [&::before]:h-0.5 [&::before]:-top-2 [&::before]:transition-all [&::before]:duration-300",
      "[&::after]:content-[''] [&::after]:absolute [&::after]:left-0 [&::after]:w-6 [&::after]:h-0.5 [&::after]:-bottom-2 [&::after]:transition-all [&::after]:duration-300",
      // Transform animations
      "[aria-expanded='true']:[&::before]:translate-y-2 [aria-expanded='true']:[&::before]:rotate-45",
      "[aria-expanded='true']:[&::after]:-translate-y-2 [aria-expanded='true']:[&::after]:-rotate-45",
    )}
    data-mobile-toggle-span></span>
</button>
